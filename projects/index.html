<!doctype html>
<html class="no-js" lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Haight St Commons</title>
        <meta name="description" content="Haight Area Cooperative Housing in San Francisco, CA.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" integrity="sha256-j+P6EZJVrbXgwSR5Mx+eCS6FvP9Wq27MBRC/ogVriY0="crossorigin="anonymous">
        <link rel="stylesheet" href="../css/style.css" type="text/css">
    </head>
    <body>
        <div class="hsc-navbar-bg"></div>

        <!-- banner -->
        <div class="hsc-banner jumbotron">
            <div class="hsc-banner-inner">

                <!-- header -->
                <div class="hsc-banner-header container">
                    <h1>Haight <small>St.</small> Commons</h1>
                    <p class="lead">DIY Cooperative Housing in San Francisco, CA.</p>
                </div>

                <hr />

                <!-- navbar -->
                <div class="hsc-banner-btns">
                    <div class="hsc-navbar animated fadeIn">

                        <!-- logo -->
                        <p class="hsc-navbar-logo">
                            <a class="hsc-btn btn btn-default btn-lg">
                                H<small>St.</small>C
                            </a>
                        </p>

                        <p class="hsc-navbar-spacer"></p>

                        <!-- btns -->
                        <p class="hsc-navbar-btns">
                            <a class="hsc-btn btn btn-default btn-lg"
                               href="https://docs.google.com/forms/d/e/1FAIpQLSdDdrTHFlsUYFMhU5YQmtyNrpV_bn4vYMq3HFsgz4NZJDtZyg/viewform?usp=sf_link"
                               target="_blank" role="button"
                            >
                                Apply as a Resident &nbsp;
                                <span class="glyphicon glyphicon-pencil"
                                      aria-hidden="true"
                                ></span>
                            </a>&nbsp;

                            <a class="hsc-btn btn btn-default btn-lg"
                               href="https://www.patreon.com/haightstcommons"
                               role="button" target="_blank"
                            >
                                Donate on Patreon
                                <span class="glyphicon glyphicon-yen"
                                      aria-hidden="true"
                                ></span>
                            </a>
                        </p>

                    </div>  <!-- /btns -->
                </div>  <!-- /navbar -->
            </div>  <!-- /inner -->

            <!-- scrollhint -->
            <div class="hsc-banner-scrollhint animated pulse infinite">
                <a href="#" onclick="hsc.scrollPastBanner()">
                    <span class="glyphicon glyphicon-menu-down animated fadeIn"></span>
                </a>
            </div>
        </div>  <!-- /banner -->


        <!-- content -->
        <div class="hsc-content container-fluid">

            <!-- projects -->
            <div class="row">
                <div class="hsc-projects">
                    <h2>
                        See below for our list of projects
                    </h2>
                    <h3>Living projects</h3>
<ul>
<li><a href="https://www.patreon.com/haightstcommons">Haight St Fund</a></li>
<li><a href="https://lu.ma/hstcommons_communityevents">HSC potluck</a></li>
<li><a href="https://haight-st-commons.org/">Haight St Commons Website</a></li>
<li><a href="https://haight-st-commons.org/">List of coliving houses</a></li>
<li><a href="https://haightstcommons.typeform.com/to/hlR3fT">Sorting hat for new residents</a></li>
<li>CCA architecture & city project (no link)</li>
<li><a href="https://docs.google.com/document/d/1MZMNJkPeQ9ErcX_oSHhlW8K-SQ2YN1XCcAGAncN1dUY/edit">Captain of Crucial Conversations</a></li>
<li><a href="https://www.districtcommons.org/">Projects of District Commons</a></li>
<li><ul>
    <li><a href="https://www.theradicalreadingroom.org/">Radical Reading Room</a></li>
    <li><a href="https://linktr.ee/humansofsecondlife">Second Life</a> (intro video <a href="https://www.youtube.com/watch?v=i9Z9Ff9rK2w">here</a>)</li>
    <li><a href="https://www.alternativejustices.com/">Alt-J</a></li>
</ul></li>
<li>Community Wisdom Living Exchange</li>
<li><a href="https://www.ourcollectivefutures.org/">Collective Futures Land Project</a></li>
<li><ul>
    <li>Community ownership</li>
    <li><a href="https://docs.google.com/document/d/1EfN54Jp-Q9VKyn5kSKaa8mh6wHqDWJbVy6jgKo5F154/edit">Saving Template</a></li>
</ul></li>
<li><a href="https://youneedawiki.com/app/page/1uFMwYVnLvpCtAx0o2dKQ0-PF5t9gmX68P9a6txjDHUI?p=1-nMjYeVUwTCitp_K_5Y24gzwnQvRKVHT">Coliving / Commune Wiki</a></li>
<li><a href="https://github.com/haight-st-commons/haight-st-commons.github.io/blob/master/index.html">HSC Github</a></li>
<li><a href="https://docs.google.com/document/d/1hzOmPT30z3EgFf_fg4oqKCjjijxgYAlNM98MWi7Gx-A/edit">Haight St Commons wikipedia entry</a></li>
</ul>

<h3>On and off projects</h3>
<ul>
<li><a href="https://peninsulapress.com/2017/04/10/communes-in-san-francisco-360-story/">Haight Free Love</a></li>
<li>Great Haight Housemate Swap</li>
<li><a href="https://www.theradicalreadingroom.org/the-commons-sylabus">Commons Study Group </a></li>
<li>Commune Crawl</li>
<li><a href="https://haight-st-commons.org/newspaper/">Newspaper</a></li>
<li>HSC happy hour (every other week at the RRR)</li>
</ul>

<h3>Paused projects</h3>
<ul>
<li><a href="https://drive.google.com/open?id=0B5UAjG9SjMkgMkRwbmx1QVEtREU">John Muir Collaboration</a></li>
<li>Haight St Commons census</li>
</ul>

<h3>Dead projects</h3>
<ul>
<li>The Commoners - radical arts sector</li>
<li>Liberation Library</li>
<li>HSC UBI</li>
<li><a href="https://photos.google.com/share/AF1QipM9AZESa8F-OQTvjQ822YIZFo1L0VFQaPX96S2G40Dbe-y819YQi2Fg6n8u7tykpA?key=bENvaFB1cVdmNWJjN0pseGM2Qk50MjF0d2QzTTBn">Documentary (dead)</a></li>
<li><a href="https://photos.app.goo.gl/rhsPh7fDefAxpS272">2017 Co-op crawl photos</a></li>
</ul>

<h3>Project ideas</h3>
<ul>
<li><a href="https://like-antennas-to-heaven.medium.com/garage-city-7fa5c0d38579">Garage City</a></li>
</ul>



<br /><br /><br />
                </div>
            </div>            
        </div>

        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>

        <script>
        $(document).ready(function() {
            "use strict";

            window.hsc = {
                scrollPastBanner: scrollPastBanner
            };

            // position constants
            var SHOULD_WRAP_MIN_WINDOW_WIDTH = 700;
            var SHOULD_WRAP_MIN_WINDOW_HEIGHT = 700;
            var CAN_EXPAND_MIN_GAP = 60;

            // time constants
            var WRAP_ANIMATION_MS = 200;
            var EXPAND_ANIMATION_MS = 200;
            var LOGO_FADE_ANIMATION_MS = 100;

            var state = {};
            var el = {
                $window: $(window),
                $body: $('body'),
                $banner: $('.hsc-banner'),
                $bannerInner: $('.hsc-banner-inner'),
                $navbar: $('.hsc-navbar'),
                $navbarLogo: $('.hsc-navbar-logo'),
                $navbarButtons: $('.hsc-navbar-btns'),
                $navbarSpacer: $('.hsc-navbar-spacer'),
                $navbarBg: $('.hsc-navbar-bg'),
                $scrollHint: $('.hsc-banner-scrollhint'),

                $sidebar: $('#hsc-sidebar'),
            };

            /**
             * Debounce to call on init, then at most every {delay} ms.
             *
             * @param {function} fn
             * @param {Number} delay
             * @return {function}
             */
            function debounce(fn, delay) {
                var isDebounced = false;

                return function() {
                    var args = arguments;

                    if (isDebounced) {
                        return;
                    }

                    isDebounced = true;
                    fn.apply(this, args);

                    setTimeout(function() {
                        fn.apply(this, args);
                        isDebounced = false;
                    }.bind(this), delay);
                };
            }

            /**
             * Accepts {currentState} to compare against the global state object.
             * True if any value in currentState does not match corresponding
             * value in global state.
             *
             * @param {Object} currentState
             * @return Boolean
             */
            function isStateChanged(currentState) {
                return Object.keys(currentState).some(function(key) {
                    if (currentState[key] !== state[key]) {
                        return true;
                    }
                });
            }

            /**
             * "Wrap" navbar items and affix to top, or "unwrap" into banner layout.
             *
             * @return undefined
             */
            function wrapNav() {
                if (state.wrapNavInFlight) {
                    return;
                }

                var checkShouldWrap = function() {
                    var bannerBounds = el.$banner[0].getBoundingClientRect();
                    var navbarBounds = el.$navbar[0].getBoundingClientRect();

                    // do not wrap on small screens (nav blocks viewport)
                    if (el.$window.width() < SHOULD_WRAP_MIN_WINDOW_WIDTH) {
                        return false;
                    }
                    if (el.$window.height() < SHOULD_WRAP_MIN_WINDOW_HEIGHT) {
                        return false;
                    }

                    // position is fixed only in navbar layout
                    var isWrapped = el.$navbar.css('position') === 'fixed';
                    var navOutsideBanner = navbarBounds.bottom >= bannerBounds.bottom;
                    var scrolledToNavbar = navbarBounds.top <= 0;

                    // if wrapped and not fully contained in banner
                    if (isWrapped && navOutsideBanner) {
                        return true;
                    }

                    // if not wrapped and scrolled to/past navbar
                    if (!isWrapped && scrolledToNavbar) {
                        return true;
                    }

                    return false;
                };

                var shouldWrap = checkShouldWrap();
                if (!isStateChanged({isWrapped: shouldWrap})) {
                    return;
                }

                state.wrapNavInFlight = true;
                state.isWrapped = !state.isWrapped;

                var onAfterWrap = function() {
                    el.$navbarLogo.fadeIn(LOGO_FADE_ANIMATION_MS);
                    state.wrapNavInFlight = false;
                };

                var onBeforeUnwrap = function(cb) {
                    el.$navbarLogo.fadeOut(LOGO_FADE_ANIMATION_MS, cb);
                };

                var onAfterUnwrap = function() {
                    el.$navbarBg.hide();
                    state.wrapNavInFlight = false;
                };

                var wrap = function(cb) {
                    el.$navbarBg.show();
                    el.$navbar.addClass('hsc-navbar-fixed');
                    el.$navbarSpacer.animate(
                        {'flex-grow': 9},
                        WRAP_ANIMATION_MS,
                        cb
                    );
                };

                var unwrap = function() {
                    el.$navbar.removeClass('hsc-navbar-fixed');
                    el.$navbarSpacer.animate(
                        {'flex-grow': 0},
                        WRAP_ANIMATION_MS,
                        onAfterUnwrap
                    );
                };

                if (shouldWrap) {
                    wrap(onAfterWrap);
                } else {
                    onBeforeUnwrap(unwrap);
                }
            }

            function scrollPastBanner() {
                var naturalHeight = el.$bannerInner.outerHeight(true);
                $('html, body').stop().animate({
                    scrollTop: naturalHeight
                }, 500);
            }

            /**
             * Expand banner to fill screen when $window.scrollTop is 0.
             *
             * @return undefined
             */
            function setBannerHeight() {
                if (state.setHeightInFlight) {
                    return;
                }

                var windowHeight = el.$window.outerHeight(true);
                var bannerHeight = el.$banner.outerHeight(true);

                var canExpand = windowHeight > bannerHeight + CAN_EXPAND_MIN_GAP;
                var shouldExpand = canExpand && !el.$window.scrollTop();

                var currentState = {
                    isExpanded: shouldExpand,
                    windowWidth: el.$window.width()
                };

                // break if state hasn't changed
                if (!isStateChanged(currentState)) {
                    return;
                }

                state.setHeightInFlight = true;
                state.isExpanded = shouldExpand;
                state.windowWidth = currentState.windowWidth;

                var onAfterExpand = function() {
                    state.setHeightInFlight = false;
                };

                var onAfterShrink = function() {
                    el.$banner.css({'height': 'auto'});
                    state.setHeightInFlight = false;
                };

                var expand = function() {
                    var fullHeight = el.$window.outerHeight(true);
                    el.$scrollHint.fadeIn();
                    el.$banner.animate(
                        {height: fullHeight},
                        EXPAND_ANIMATION_MS,
                        onAfterExpand
                    );
                };

                var shrink = function() {
                    var naturalHeight = el.$bannerInner.outerHeight(true);
                    el.$scrollHint.hide();
                    el.$banner.animate(
                        {'height': naturalHeight},
                        EXPAND_ANIMATION_MS,
                        onAfterShrink
                    );
                };

                if (shouldExpand) {
                    expand();
                } else {
                    shrink();
                }
            }

            /**
             * Ensure sidebar is affixed to the correct position.
             *
             * @return undefined
             */
            function updateSidebar() {
                el.$sidebar.affix('checkPosition');
            }

            function init() {
                wrapNav();
                setBannerHeight();

                el.$window.on(
                    'DOMContentLoaded resize scroll',
                    debounce(setBannerHeight, 50)
                );

                el.$window.on(
                    'DOMContentLoaded resize scroll',
                    debounce(wrapNav, 50)
                );

                el.$body.scrollspy({
                    target: '.hsc-houses',
                    offset: 100,
                });

                // el.$sidebar.affix({
                //     offset: {top: el.$houses.offset().top - 60}
                // });

                el.$window.on(
                    'DOMContentLoaded resize scroll',
                    debounce(updateSidebar, 50)
                )
            }

            init();
        });
        </script>

        <!-- bootstrap -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


        <!-- google analytics -->
        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-83416444-1', 'auto');ga('send', 'pageview');</script>
    </body>
</html>
